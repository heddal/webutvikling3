(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{124:function(t,e,a){},153:function(t,e,a){},155:function(t,e,a){},159:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),i=a(7),l=a.n(i),o=(a(98),a(10)),c=a(8),u=a(12),s=a(13),h=a(14),v=a(23),m=a(200),p=(a(99),a(19)),d=(a(58),a(16)),f=function(t){return function(e,a){e({type:"SHOW_DESTINATION",destinationID:t})}},x=a(47),b=a.n(x),y=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(u.a)(this,Object(s.a)(e).call(this,t))).getDataFromDb=function(){fetch("/api/threeMostPopular/").then((function(t){return t.json()})).then((function(t){return a.setState({data:t.data})}))},a.handleButtonClick=function(t,e){return function(n){a.props.showDestination(t),e++,a.updateDB(t,e)}},a.state={data:[],popularity:null,intervalIsSet:!1},a.updateDB=a.updateDB.bind(Object(p.a)(a)),a}return Object(h.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){if(this.getDataFromDb(),!this.state.intervalIsSet){var t=setInterval(this.getDataFromDb,1e3);this.setState({intervalIsSet:t})}}},{key:"componentWillUnmount",value:function(){this.state.intervalIsSet&&(clearInterval(this.state.intervalIsSet),this.setState({intervalIsSet:null}))}},{key:"updateDB",value:function(t,e){b.a.post("/api/updateData",{id:t,update:{popularity:e}})}},{key:"render",value:function(){var t=this,e=this.state.data;return r.a.createElement("div",{className:"trio"},e.map((function(e){return r.a.createElement("div",{className:"card-container",key:e.name},r.a.createElement("div",{className:"card-item"},r.a.createElement("img",{src:e.img,alt:"alt"})),r.a.createElement("div",{className:"card-item"}," ",r.a.createElement("p",{style:{textTransform:"capitalize"}},e.name)," "),r.a.createElement("div",{className:"card-item"},r.a.createElement(v.b,{to:"/Destination",className:"link"},r.a.createElement("button",{onClick:t.handleButtonClick(e._id,e.popularity)},"Show More"))))})))}}]),e}(n.Component),g=Object(d.b)(null,(function(t){return{showDestination:function(e){return t(f(e))}}}))(y),E=a(24),O=a(85),j=a(3),w=a(196),k=a(81),D=a.n(k),C=a(204),S=a(203),I=function(t){return function(e,a){e({type:"CHANGE_SEARCHWORD",word:t})}},N=a(35);function T(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}var A=Object(N.e)(Object(d.b)((function(t){return{word:t.filter.searchWord}}),(function(t){return{changeSearchword:function(e){return t(I(e))}}}))((function(t){var e,a=Object(w.a)((function(t){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"center"},margin:{margin:t.spacing(1)},textField:{flexBasis:500,backgroundColor:"white"}}}))(),n=r.a.useState({search:t.word}),i=Object(O.a)(n,2),l=i[0],o=i[1];return r.a.createElement("div",{className:a.root},r.a.createElement(S.a,{id:"search-box",className:Object(j.a)(a.margin,a.textField),variant:"outlined",label:"search location",value:l.search,onChange:(e="search",function(t){o(function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?T(a,!0).forEach((function(e){Object(E.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):T(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},l,Object(E.a)({},e,t.target.value)))}),onKeyUp:(t.keyPressed,function(e){13===e.keyCode&&(""===l.search?t.changeSearchword("all"):t.changeSearchword(l.search),t.history.push("/search/"+l.search))}),InputProps:{endAdornment:r.a.createElement(C.a,{position:"end"},r.a.createElement(D.a,null))}}))}))),B=function(t){function e(){var t,a;Object(o.a)(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(t=Object(s.a)(e)).call.apply(t,[this].concat(r)))).state={},a}return Object(h.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{className:"alt"},r.a.createElement(m.a,{container:!0,justify:"center",alignItems:"center",direction:"column",className:"main"},r.a.createElement(m.a,{container:!0,className:"text"},r.a.createElement("div",{className:"content"},r.a.createElement("h3",null,"Dream destination"),r.a.createElement("h4",null,"Where is your ultimate destination?"),r.a.createElement(A,null),r.a.createElement("p",null,"To se the most visited pages",r.a.createElement(v.b,{to:"/wordcloud",className:"link"},"click here")))),r.a.createElement(m.a,{container:!0,justify:"center",spacing:2},r.a.createElement(g,null))))}}]),e}(n.Component),F=(a(124),a(37)),M={sortType:""},W=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SORT_TYPE":return{sortType:e.sortType};default:return t}},P={destinationID:""},H=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SHOW_DESTINATION":return{destinationID:e.destinationID};default:return t}},R={length:0},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"GET_LENGTH":return{length:e.length};default:return t}},L={searchWord:"",continent:""},G=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"CHANGE_SEARCHWORD":return{searchWord:e.word,continent:t.continent};case"CONTINENT_FILTER":return{searchWord:t.searchWord,continent:e.continent};default:return t}},z=Object(F.c)({filter:G,sort:W,destination:H,length:_}),K=a(82),U=a(50),J=a.n(U),Y=[{text:"told",value:64},{text:"mistake",value:11},{text:"thought",value:16},{text:"bad",value:17},{text:"correct",value:10},{text:"day",value:54},{text:"prescription",value:12},{text:"time",value:77},{text:"thing",value:45},{text:"left",value:19},{text:"pay",value:13},{text:"people",value:32},{text:"month",value:22},{text:"again",value:35},{text:"review",value:24},{text:"call",value:38},{text:"doctor",value:70},{text:"asked",value:26},{text:"finally",value:14},{text:"insurance",value:29},{text:"week",value:41},{text:"called",value:49},{text:"problem",value:20},{text:"going",value:59},{text:"help",value:49},{text:"felt",value:45},{text:"discomfort",value:11},{text:"lower",value:22},{text:"severe",value:12},{text:"free",value:38},{text:"better",value:54},{text:"muscle",value:14},{text:"neck",value:41},{text:"root",value:24},{text:"adjustment",value:16},{text:"therapy",value:29},{text:"injury",value:20},{text:"excruciating",value:10},{text:"chronic",value:13},{text:"chiropractor",value:35},{text:"treatment",value:59},{text:"tooth",value:32},{text:"chiropractic",value:17},{text:"dr",value:77},{text:"relief",value:19},{text:"shoulder",value:26},{text:"nurse",value:17},{text:"room",value:22},{text:"hour",value:35},{text:"wait",value:38},{text:"hospital",value:11},{text:"eye",value:13},{text:"test",value:10},{text:"appointment",value:49},{text:"medical",value:19},{text:"question",value:20},{text:"office",value:64},{text:"care",value:54},{text:"minute",value:29},{text:"waiting",value:16},{text:"patient",value:59},{text:"health",value:49},{text:"alternative",value:24},{text:"holistic",value:19},{text:"traditional",value:20},{text:"symptom",value:29},{text:"internal",value:17},{text:"prescribed",value:26},{text:"acupuncturist",value:16},{text:"pain",value:64},{text:"integrative",value:10},{text:"herb",value:13},{text:"sport",value:22},{text:"physician",value:41},{text:"herbal",value:11},{text:"eastern",value:12},{text:"chinese",value:32},{text:"acupuncture",value:45},{text:"prescribe",value:14},{text:"medication",value:38},{text:"western",value:35},{text:"sure",value:38},{text:"work",value:64},{text:"smile",value:17},{text:"teeth",value:26},{text:"pair",value:11},{text:"wanted",value:20},{text:"frame",value:13},{text:"lasik",value:10},{text:"amazing",value:41},{text:"fit",value:14},{text:"happy",value:22},{text:"feel",value:49},{text:"glasse",value:19},{text:"vision",value:12},{text:"pressure",value:16},{text:"find",value:29},{text:"experience",value:59},{text:"year",value:70},{text:"massage",value:35},{text:"best",value:54},{text:"mouth",value:20},{text:"staff",value:64},{text:"gum",value:10},{text:"chair",value:12},{text:"ray",value:22},{text:"dentistry",value:11},{text:"canal",value:13},{text:"procedure",value:32},{text:"filling",value:26},{text:"gentle",value:19},{text:"cavity",value:17},{text:"crown",value:14},{text:"cleaning",value:38},{text:"hygienist",value:24},{text:"dental",value:59},{text:"charge",value:24},{text:"cost",value:29},{text:"charged",value:13},{text:"spent",value:17},{text:"paying",value:14},{text:"pocket",value:12},{text:"dollar",value:11},{text:"business",value:32},{text:"refund",value:10}],Z=function(t){return 360*Math.random()},q=function(t){function e(){return Object(o.a)(this,e),Object(u.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"This is Bob"),r.a.createElement(J.a,{data:Y,rotate:Z}))}}]),e}(n.Component),$=(a(75),a(199)),Q=(a(153),function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(u.a)(this,Object(s.a)(e).call(this,t))).handleClick=function(){console.log("former pathname: "+a.props.location.pathname),a.props.location.pathname.includes("search")?a.former="/":("search"===a.former&&(a.former="/"),a.former="/search"),console.log("firmer: "+a.former)},a.former="search",a}return Object(h.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return r.a.createElement(v.b,{to:this.former},r.a.createElement("button",{className:"back-button",onClick:this.handleClick.bind(this)}," ",r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"#999999",viewBox:"0 0 18 18"},r.a.createElement("path",{d:"M15 8.25H5.87l4.19-4.19L9 3 3 9l6 6 1.06-1.06-4.19-4.19H15v-1.5z"}))," ")," ")}}]),e}(n.Component)),V=Object(N.e)(Object(d.b)((function(t){return{word:t}}))(Q)),X=function(t){function e(){var t,a;Object(o.a)(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(t=Object(s.a)(e)).call.apply(t,[this].concat(r)))).state={data:[],id:0,name:null,country:null,continent:null,source:null,img:null},a.getDataFromDb=function(){fetch("/api/getDataFrom/"+a.props.destinationID).then((function(t){return t.json()})).then((function(t){return a.setState({data:t.data})}))},a}return Object(h.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){if(this.getDataFromDb(),!this.state.intervalIsSet){var t=setInterval(this.getDataFromDb,1e3);this.setState({intervalIsSet:t})}}},{key:"componentWillUnmount",value:function(){this.state.intervalIsSet&&(clearInterval(this.state.intervalIsSet),this.setState({intervalIsSet:null}))}},{key:"render",value:function(){var t=this.state.data;return r.a.createElement("div",{className:"container-destination"},r.a.createElement("div",{className:"back"},r.a.createElement(V,null)),r.a.createElement(m.a,{container:!0,spacing:8,className:"papir"},r.a.createElement($.a,{className:"paper"},r.a.createElement("div",null,r.a.createElement("h2",null," ",t.name," "),r.a.createElement("h4",null," ",t.country,", ",t.continent),r.a.createElement("div",{className:"bilde"},r.a.createElement("img",{src:t.img,alt:"alt"})),r.a.createElement("p",null," ",t.description),r.a.createElement("p",null,"This info is retrieved from: ",t.source)))))}}]),e}(n.Component),tt=Object(d.b)((function(t){return{destinationID:t.destination.destinationID}}))(X),et=a(83),at=a.n(et),nt=function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(u.a)(this,Object(s.a)(e).call(this,t))).getDataFromDb=function(){"all"===a.props.word?"all"===a.props.continent?(console.log("IKKE HER :((("),fetch("/api/getData").then((function(t){return t.json()})).then((function(t){return a.sortData(t.data)}))):fetch("/api/search/"+a.props.continent).then((function(t){return t.json()})).then((function(t){return a.sortData(t.data)})):"all"===a.props.continent?(console.log("INN HER?"),fetch("/api/search/"+a.props.word).then((function(t){return t.json()})).then((function(t){return a.sortData(t.data)}))):fetch("/api/search/"+a.props.continent+"/"+a.props.word).then((function(t){return t.json()})).then((function(t){return a.sortData(t.data)}))},a.updateDB=function(t,e){b.a.post("/api/updateData",{id:t,update:{popularity:e}})},a.handleButtonClick=function(t,e){return function(n){a.props.showDestination(t),e++,a.updateDB(t,e)}},a.state={data:[],intervalIsSet:!1,items:20,hasMoreItems:!0,maxItems:0},a.sortData=a.sortData.bind(Object(p.a)(a)),a}return Object(h.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){if(this.getDataFromDb(),!this.state.intervalIsSet){var t=setInterval(this.getDataFromDb,1e3);this.setState({intervalIsSet:t})}window.addEventListener("scroll",this.loadMore.bind(this),!1)}},{key:"componentWillUnmount",value:function(){this.state.intervalIsSet&&(clearInterval(this.state.intervalIsSet),this.setState({intervalIsSet:null}))}},{key:"sortData",value:function(t){if(this.props.sortType){if("A-Z"===this.props.sortType){var e=t.sort((function(t,e){return t.name>e.name?1:-1}));this.setState({data:e})}if("Popularity"===this.props.sortType){var a=t.sort((function(t,e){return t.popularity>e.popularity?-1:1}));this.setState({data:a})}}else this.setState({data:t})}},{key:"loadMore",value:function(){var t=this;this.state.items>=this.state.maxItems?this.setState({hasMoreItems:!1}):setTimeout((function(){t.setState({items:t.state.items+20})}),1e3)}},{key:"render",value:function(){var t=this,e=this.state.data.map((function(e){return r.a.createElement("div",{className:"trio",key:e._id},r.a.createElement("div",{className:"card-container"},r.a.createElement("div",{className:"card-item"}," ",r.a.createElement("img",{src:e.img,alt:"alt"})," "),r.a.createElement("div",{className:"card-item"}," ",r.a.createElement("p",null," ",e.name," ")," "),r.a.createElement("div",{className:"card-item"}," ",r.a.createElement(v.b,{to:"/Destination",className:"link"},r.a.createElement("button",{onClick:t.handleButtonClick(e._id,e.popularity)}," Show More ")," ")," ")))}));return r.a.createElement("div",null,r.a.createElement(at.a,{pageStart:0,loadMore:this.loadMore.bind(this),hasMore:this.state.hasMoreItems,useWindow:!1},r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",height:"100%",overflow:"scroll"}},e.slice(0,this.state.items))))}}]),e}(n.Component),rt=Object(d.b)((function(t){var e=t.filter,a=t.sort;return{word:e.searchWord,continent:e.continent,sortType:a.sortType,length:t.length.length}}),(function(t){return{showDestination:function(e){return t(f(e))},setLength:function(e){return t(function(t){return function(e,a){e({type:"GET_LENGTH",length:t})}}(e))}}}))(nt),it=a(202),lt=a(84),ot=a(205),ct=function(t){function e(){var t,a;Object(o.a)(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(t=Object(s.a)(e)).call.apply(t,[this].concat(r)))).state={anchorEl:null,sortType:"",type1:"A-Z",type2:"Popularity"},a.handleClick=function(t){a.setState({anchorEl:t.currentTarget})},a.handleClose=function(){a.setState({anchorEl:null})},a.handleSort=function(t){return function(e){a.props.sortBy(t)}},a}return Object(h.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(it.a,{"aria-controls":"simple-menu","aria-haspopup":"true",color:"primary",variant:"outlined",onClick:this.handleClick},"Sort by"),r.a.createElement(lt.a,{id:"simple-menu",anchorEl:this.state.anchorEl,keepMounted:!0,open:Boolean(this.state.anchorEl),onClose:this.handleClose},r.a.createElement(ot.a,{onClick:this.handleSort(this.state.type1)}," ",this.state.type1," "),r.a.createElement(ot.a,{onClick:this.handleSort(this.state.type2)}," ",this.state.type2," ")))}}]),e}(n.Component),ut=Object(d.b)(null,(function(t){return{sortBy:function(e){return t(function(t){return function(e,a){e({type:"SORT_TYPE",sortType:t})}}(e))}}}))(ct),st=(a(155),function(t){function e(t){var a;return Object(o.a)(this,e),(a=Object(u.a)(this,Object(s.a)(e).call(this,t))).handleClick=function(t){return function(e){console.log(t),a.props.continentFilter(t)}},a.state={items:10,hasMoreItems:!0,activeButton:"all"},a.getContinent=a.getContinent.bind(Object(p.a)(a)),a}return Object(h.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){0===this.props.word.length&&this.props.changeSearchword("all"),this.props.continentFilter("all")}},{key:"getContinent",value:function(t,e){this.props.continentFilter(t);var a=this.state.activeButton;a!==e.target.id&&(document.getElementById(a).className="",document.getElementById(e.target.id).className="active",this.setState({activeButton:e.target.id}))}},{key:"render",value:function(){var t=this;return r.a.createElement(m.a,{container:!0,spacing:8,style:{padding:20,width:"100%",marginTop:36,marginBottom:36},direction:"column",justify:"center",alignItems:"center"},r.a.createElement("div",{style:{width:"100vw",textAlign:"center"}},r.a.createElement("div",{style:{justifyContent:"space-between",display:"flex",flexDirection:"row",alignItems:"center",paddingLeft:"3%",paddingRight:"5%"}},r.a.createElement(V,null),r.a.createElement("h2",{style:{padding:8}},' Results from "',this.props.word,'"'),r.a.createElement(ut,null)),r.a.createElement(A,null),r.a.createElement("div",{className:"button-group",style:{textAlign:"center",fontFamily:"Arial, Helvetica, sans-serif",borderRadius:"10px"}},r.a.createElement("button",{className:"active",id:"all",onClick:function(e){return t.getContinent("all",e)}}," All "),r.a.createElement("button",{id:"africa",onClick:function(e){return t.getContinent("Africa",e)}}," Africa "),r.a.createElement("button",{id:"america",onClick:function(e){return t.getContinent("America",e)}}," America "),r.a.createElement("button",{id:"asia",onClick:function(e){return t.getContinent("Asia",e)}}," Asia "),r.a.createElement("button",{id:"europe",onClick:function(e){return t.getContinent("Europe",e)}}," Europe "),r.a.createElement("button",{id:"oceania",onClick:function(e){return t.getContinent("Oceania",e)}}," Oceania "))),r.a.createElement(rt,null))}}]),e}(n.Component)),ht=Object(d.b)((function(t){return{word:t.filter.searchWord}}),(function(t){return{continentFilter:function(e){return t(function(t){return function(e,a){e({type:"CONTINENT_FILTER",continent:t})}}(e))},changeSearchword:function(e){return t(I(e))}}}))(st),vt=function(t){return 360*Math.random()},mt=function(t){function e(){var t,a;Object(o.a)(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(t=Object(s.a)(e)).call.apply(t,[this].concat(r)))).state={data:[]},a.getDataFromDb=function(){fetch("/api/wordcloudPopularity/").then((function(t){return t.json()})).then((function(t){return a.renameKeys(t.data)}))},a}return Object(h.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.getDataFromDb()}},{key:"capitalize",value:function(t){return"string"!==typeof t?"":t.charAt(0).toUpperCase()+t.slice(1)}},{key:"renameKeys",value:function(t){var e,a=[];for(e=0;e<t.length;e++){var n={text:this.capitalize(t[e].name),value:t[e].popularity};a.push(n)}this.setState({data:a})}},{key:"render",value:function(){return r.a.createElement("div",{style:{justifyContent:"center",display:"flex",height:"100vh",alignItems:"center"}},r.a.createElement(J.a,{data:this.state.data,font:"Impact",rotate:vt}))}}]),e}(n.Component),pt=Object(F.d)(z,Object(F.a)(K.a)),dt=function(t){function e(){return Object(o.a)(this,e),Object(u.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return r.a.createElement(d.a,{store:pt},r.a.createElement(v.a,null,r.a.createElement(N.a,{path:"/",exact:!0,component:B}),r.a.createElement(N.a,{path:"/wordcloud",component:mt}),r.a.createElement(N.a,{path:"/search",component:ht}),r.a.createElement(N.a,{path:"/bob",component:q})," ",r.a.createElement(N.a,{path:"/destination",component:tt})))}}]),e}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(dt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},58:function(t,e,a){},75:function(t,e,a){},93:function(t,e,a){t.exports=a(159)},98:function(t,e,a){},99:function(t,e,a){}},[[93,1,2]]]);
//# sourceMappingURL=main.46953e19.chunk.js.map